$(function(){ // on dom ready

$('#cy').cytoscape({
	style: cytoscape.stylesheet()
		.selector('node').css({
			'content': 'data(name)',
			'text-valign': 'center',
			'color': 'black',
			'text-outline-color': '#000'
		})
		.selector('edge').css({
			'target-arrow-shape': 'triangle'
		})
		.selector(':selected').css({
			'background-color': 'black',
			'line-color': 'black',
			'target-arrow-color': 'black',
			'source-arrow-color': 'black'
		})
		.selector('.faded').css({
			'opacity': 1,
			'text-opacity': 0
		})
		.selector('.green').css({
			'color': 'green'
		})
		.selector('.red').css({
			'color': 'red'
		}),
  	
	elements: {
		nodes: [
			{ data: { id: 'p53', name: 'p53' } },
			{ data: { id: 'MDM2', name: 'MDM2' } },
			{ data: { id: 'p14ARF', name: 'p14/ARF' } },
			{ data: { id: 'p21', name: 'p21' } },
			{ data: { id: 'Rb', name: 'Rb' } },
			{ data: { id: 'E2F', name: 'E2F' } },
			{ data: { id: 'CDK2', name: 'CDK2' } },
			{ data: { id: 'CKS1', name: 'CKS1' } },
			{ data: { id: 'Skp2', name: 'Skp2' } }
		],
		edges: [
			{ data: { source: 'p53', target: 'p21' } },
			{ data: { source: 'MDM2', target: 'p53' } },
			{ data: { source: 'p14ARF', target: 'MDM2' } },
			{ data: { source: 'Rb', target: 'E2F' } },
			{ data: { source: 'CDK2', target: 'Rb' } },
			{ data: { source: 'CKS1', target: 'Skp2' } }
		]
	},
	
  
	layout: {
		name: 'grid',
		padding: 10
	},
  
	// on graph initial layout done (could be async depending on layout...)
	ready: function(){

		window.cy = this;
    
		// giddy up...
    
		cy.elements().unselectify();
    
		cy.on('tap', 'node', function(e){
			e.preventDefault();
			
			var node = this;
			console.log(node.position());
			$('#information').append(node.id() + ', ');
			node.addClass('green');
		});
	}
});

}); // on dom ready
